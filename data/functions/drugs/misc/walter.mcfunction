scoreboard players tag @e[type=item] add i_emerald {Item:{id:"minecraft:emerald",Count:1b},OnGround:1b}

execute @e[tag=i_emerald] ~ ~ ~ detect ~ ~ ~ minecraft:brewing_stand -1 kill @e[name=Walter]
execute @e[tag=i_emerald] ~ ~ ~ detect ~ ~ ~ minecraft:brewing_stand -1 kill @e[tag=car]

execute @e[tag=i_emerald] ~ ~ ~ detect ~ ~ ~ minecraft:brewing_stand -1 summon wolf ~ 500 ~ {CustomName:"Walter's Car",Tags:["car"],CollarColor:0,Sitting:0,Silent:1,ActiveEffects:[{Id:14,Amplifier:0,Duration:1999980,ShowParticles:0b}],Passengers:[{id:"minecart",Tags:["car"],Passengers:[{id:"villager",Profession:1,    CustomName: "Walter",    CustomNameVisible: 1,    Career: 1,    CareerLevel: 42,    CanPickUpLoot: 0,    PersistenceRequired: 1,    Offers: {        Recipes: [            {                buy: {                    id: "emerald",                    Count: 10                },                buyB: {                    id: "nether_wart",                      Count: 1                },                maxUses: 9999999,                sell: {                    id: "paper",                    Count: 1,                    tag:{display:{Name:"LSD Tab",Lore:["Guaranteed to blow your freakin' mind."]},HideFlags:6}                },                rewardExp: false            },            {                buy: {                    id: "emerald",                    Count: 8                },                maxUses: 9999999,                sell: {                    id: "blaze_powder",                    Count: 1,                    tag:{display:{Name:"Molly",Lore:["Let's get this party started!"]},HideFlags:6}                },               rewardExp: false            },            {                buy: {                    id: "emerald",                    Count: 2                },                maxUses: 9999999,                sell: {                    id: "double_plant",                    Count: 1,                    Damage: 2,                    tag:{display:{Name:"Salvia",Lore:["Are you sure this is a good idea?"]},HideFlags:6}                },                rewardExp: false            },            {                buy: {                    id: "emerald",                    Count: 35                },                buyB: {                    id: "red_mushroom",                    Count: 4                },                maxUses: 9999999,                sell: {                    id: "red_mushroom",                    Count: 3,                    tag:{display:{Name:"Dried Amanita",Lore:["All natural!"]},HideFlags:6}                },                rewardExp: false            },            {                buy: {                    id: "emerald",                    Count: 40                },                maxUses: 9999999,                sell: {                    id: "quartz",                    Count: 1,                    tag:{display:{Name:"Crystal Meth",Lore:["I am the one who knocks."]},HideFlags:6}                },                rewardExp: false            }        ]    }}]}]}

execute @e[tag=i_emerald] ~ ~ ~ detect ~ ~ ~ minecraft:brewing_stand -1 spreadplayers ~ ~ 5 10 false @e[type=wolf,tag=car]
execute @e[tag=i_emerald] ~ ~ ~ detect ~ ~ ~ minecraft:brewing_stand -1 execute @p ~ ~ ~ summon sheep ~ ~1 ~ {DeathLootTable:"minecraft:empty",Tags:["car"],NoGravity:1b,Color:1,NoAI:1,Silent:1,ActiveEffects:[{Id:14,Amplifier:0,Duration:19999980,ShowParticles:0b}]}

execute @e[tag=i_emerald] ~ ~ ~ detect ~ ~ ~ minecraft:brewing_stand -1 kill @e[type=item,tag=i_emerald,r=3]